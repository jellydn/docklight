# Ralph Progress Log
Started: Sat Feb 28 12:43:28 +08 2026
## Sat Feb 28 2026 - US-004, US-005, US-006
[Session: https://opncd.ai/s/5cfeab3c]
- Implemented CreateAppDialog component (client/src/components/CreateAppDialog.tsx)
- Added Create App button to Dashboard (client/src/pages/Dashboard.tsx)
- Implemented inline validation for app name (regex: /^[a-z0-9-]+$/)
- Added Next Steps view after app creation with git remote instructions
- Added Copy button for git remote command
- Added Go to App button that navigates to /apps/:name
- Typecheck and lint pass
- Files changed: client/src/components/CreateAppDialog.tsx, client/src/pages/Dashboard.tsx
- **Learnings for future iterations:**
  - Use CommandResultSchema from lib/schemas.ts when calling apiFetch for POST/PUT/DELETE operations
  - Dialog can transition between different views (creation form -> next steps) by using state
  - Reset dialog state when closing to avoid stale data on next open
---

## Sat Feb 28 2026 - US-001
[Session: https://opncd.ai/s/5cfeab3c]
- Implemented Create App API endpoint (server/lib/apps.ts, server/index.ts)
- Added `createApp(name)` function that runs `dokku apps:create <name>`
- Added POST /api/apps route that accepts { name: string }
- Added name validation using existing isValidAppName()
- Added cache clearing (clearPrefix('apps:')) after creation
- Files changed: server/lib/apps.ts, server/index.ts
- **Learnings for future iterations:**
  - The codebase follows a consistent pattern: validation first, then executeCommand, then return result
  - Cache clearing is important for consistency - always call clearPrefix('apps:') after app mutations
  - Test failures are pre-existing (vi.mocked not a function issue) - not caused by this change
---

## Sat Feb 28 2026 - US-002
[Session: https://opncd.ai/s/5cfeab3c]
- Implemented Destroy App API endpoint (server/lib/apps.ts, server/index.ts)
- Added `destroyApp(name, confirmName)` function that runs `dokku apps:destroy <name> --force`
- Added DELETE /api/apps/:name route that accepts { confirmName: string }
- Added validation to ensure confirmName matches name before executing
- Added cache clearing (clearPrefix('apps:')) after destruction
- Files changed: server/lib/apps.ts, server/index.ts
- **Learnings for future iterations:**
  - The destroy endpoint requires typing the app name for confirmation - this is a safety feature
  - The endpoint returns CommandResult which includes exitCode, stdout, stderr
  - Typecheck and lint pass without issues
---

## Sat Feb 28 2026 - US-003
[Session: https://opncd.ai/s/5cfeab3c]
- Implemented Stop and Start App API endpoints (server/lib/apps.ts, server/index.ts)
- Added `stopApp(name)` function that runs `dokku ps:stop <name>`
- Added `startApp(name)` function that runs `dokku ps:start <name>`
- Added POST /api/apps/:name/stop route
- Added POST /api/apps/:name/start route
- Both endpoints validate app name with isValidAppName()
- Both clear apps cache after each action
- Files changed: server/lib/apps.ts, server/index.ts
- **Learnings for future iterations:**
  - Follow the same pattern as restartApp and rebuildApp for consistency
  - Typecheck and lint pass
  - Test failures are pre-existing (vi.mocked not a function issue)
---
